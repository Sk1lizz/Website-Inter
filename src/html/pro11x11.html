<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FC Inter Moscow Pro</title>
    <link rel="stylesheet" href="./css/main.css" />
    <meta name="description"
        content="FC Inter Moscow Pro - —Ñ—É—Ç–±–æ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö –≤ –ú–æ—Å–∫–≤–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ 11—Ö11" />
</head>

<body>
    @@include('blocks/header.html')

    <div class="pro11x11_wrapper">
        <div class="selection_players">
            <div class="team">
                <div class="team_name">
                    <div class="name_team">FC Inter Moscow Pro (11x11)</div>
                    <div class="button">
                        <a href="prosmotr_pro11x11.html"><button>–ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É</button></a>
                        <a href="result11x11.html"><button>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∞—Ç—á–µ–π</button></a>
                    </div>
                </div>
                <div class="players">
                    <div class="player_blok">
                        <div class="goalkeeper">
                            <div class="title">–í—Ä–∞—Ç–∞—Ä–∏</div>
                        </div>

                        <div class="defender">
                            <div class="title">–ó–∞—â–∏—Ç–Ω–∏–∫–∏</div>
                        </div>
                    </div>
                    <div class="midfielders">
                        <div class="title">–ü–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫–∏</div>
                    </div>

                    <div class="forvards_coach_block">
                        <div class="forvards">
                            <div class="title">–ù–∞–ø–∞–¥–∞—é—â–∏–µ</div>
                            <div class="forvards"></div>
                        </div>
                        <div class="coach">
                            <div class="title">–¢—Ä–µ–Ω–µ—Ä—ã</div>
                            <div class="player">
                                <div class="name"><a href="peshekhonov.html">–ü–µ—à–µ—Ö–æ–Ω–æ–≤ –î.–ú.</a></div>
                            </div>
                            <div class="player">
                                <div class="name"><a href="gruminsky.html">–ì—Ä—É–º—ã–Ω—Å–∫–∏–π –ê.–ê.</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="statistics">
            <div class="title">
                <div class="title_text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 2025</div>
            </div>

            <div class="blocks_statistic">
                <div class="wrapper">
                    <div class="slider">
                        <div class="blocks">
                            <div class="game">
                                <div class="text">
                                    <div class="name">–ú–∞—Ç—á–µ–π</div>
                                    <div class="number">13</div>
                                </div>
                            </div>
                            <div class="wins">
                                <div class="text">
                                    <div class="name">–ü–æ–±–µ–¥—ã</div>
                                    <div class="number">1</div>
                                </div>
                            </div>
                            <div class="draw">
                                <div class="text">
                                    <div class="name">–ù–∏—á—å–∏</div>
                                    <div class="number">2</div>
                                </div>
                            </div>
                            <div class="lose">
                                <div class="text">
                                    <div class="name">–ü–æ—Ä–∞–∂–µ–Ω–∏—è</div>
                                    <div class="number">10</div>
                                </div>
                            </div>
                        </div>
                        <div class="blocks">
                            <div class="goals">
                                <div class="text">
                                    <div class="name">–ì–æ–ª–æ–≤ –∑–∞–±–∏—Ç–æ</div>
                                    <div class="number">17</div>
                                </div>
                            </div>
                            <div class="goals_conceded">
                                <div class="text">
                                    <div class="name">–ì–æ–ª–æ–≤ –ø—Ä–æ–ø—É—â–µ–≥–æ</div>
                                    <div class="number">47</div>
                                </div>
                            </div>
                            <div class="difference">
                                <div class="text">
                                    <!-- –°—á–∏—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
                                    <div class="name">–†–∞–∑–Ω–∏—Ü–∞</div>
                                    <div class="number"></div>
                                </div>
                            </div>
                            <div class="form">
                                <div class="text">
                                    <div class="name">–§–æ—Ä–º–∞</div>
                                    <div class="number">LLWLX</div>
                                </div>
                            </div>
                        </div>
                        <div class="blocks">
                            <div class="wins_series">
                                <div class="text">
                                    <div class="name">–õ—É—á—à–∞—è —Å–µ—Ä–∏—è –ø–æ–±–µ–¥</div>
                                    <div class="number">1</div>
                                </div>
                            </div>
                            <div class="wins_lose">
                                <div class="text">
                                    <div class="name">–ù–∞–∏–±–æ–ª—å—à–∞—è —Å–µ—Ä–∏—è –±–µ–∑ –ø–æ—Ä–∞–∂–µ–Ω–∏–π</div>
                                    <div class="number">1</div>
                                </div>
                            </div>
                            <div class="the_best_win">
                                <div class="text">
                                    <div class="name">–°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –ø–æ–±–µ–¥–∞</div>
                                    <div class="number">–ú–∞—Å—Ç–µ—Ä (3:1)</div>
                                </div>
                            </div>
                            <div class="the_best_lose">
                                <div class="text">
                                    <div class="name">–°–∞–º–æ–µ –∫—Ä—É–ø–Ω–æ–µ –ø–æ—Ä–∞–∂–µ–Ω–∏–µ</div>
                                    <div class="number">–ê—Ä–≥—É–º–µ–Ω—Ç (0:6)</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tablegoal">
            <div class="title_tablegoal">
                <div class="text_title">–¢–æ–ø —Ñ—É—Ç–±–æ–ª–∏—Å—Ç—ã</div>
            </div>
            <div class=block-wrapper>
                <div class="statistic goals">
                    <div class="wrapper">
                        <div class="title">–¢–æ–ø –±–æ–º–±–∞—Ä–¥–∏—Ä—ã</div>
                        <ul class="goals-list">
                            <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ –≥–æ–ª–µ–æ–¥–∞—Ç–µ–ª–µ–π -->
                        </ul>
                        <div class="link"><a href="pro11x11allstat.html#1"">–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫</a></div>
                    </div>
                </div>

                <div class=" statistic assists">
                                <div class="wrapper">
                                    <div class="title">–¢–æ–ø –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã</div>
                                    <ul class="assists-list">
                                        <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ -->
                                    </ul>
                                    <div class="link"><a href="pro11x11allstat.html#2"">–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫</a></div>
                    </div>
                </div>

                <div class=" statistic goals_assists">
                                            <div class="wrapper">
                                                <div class="title">–¢–æ–ø –≥–æ–ª+–ø–∞—Å</div>
                                                <ul class="goals-assists-list"></ul>
                                                <div class="link"><a href="pro11x11allstat.html#3"">–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫</a></div>
                    </div>
                </div>
            </div>

            <div class=block-wrapper>
                <div class=" statistic goalkeepers">
                                                        <div class="wrapper">
                                                            <div class="title">–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –º—è—á–∏</div>
                                                            <!-- –ø–æ–º–µ–Ω—è–ª –Ω–∞–∑–≤–∞–Ω–∏–µ -->
                                                            <ul class="goalkeepers-list"></ul>
                                                            <!-- –æ—Å—Ç–∞–≤–∏–ª –∫–ª–∞—Å—Å, —á—Ç–æ–± –Ω–µ –ª–æ–º–∞—Ç—å —Å–∫—Ä–∏–ø—Ç -->
                                                            <div class="link"><a href="pro11x11allstat.html#4">–ü–æ–ª–Ω—ã–π
                                                                    —Å–ø–∏—Å–æ–∫</a></div>
                                                        </div>
                                                </div>

                                                <div class=" statistic goalkeepers_zero">
                                                    <div class="wrapper">
                                                        <div class="title">–ú–∞—Ç—á–µ–π –Ω–∞ –Ω–æ–ª—å</div>
                                                        <ul class="goalkeepers-list-zero"></ul>
                                                        <div class="link"><a href="pro11x11allstat.html#5"">–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫</a></div>
                    </div>
                </div>

                <div class=" statistic zanetti_top">
                                                                <div class="wrapper">
                                                                    <div class="title"> –¢–æ–ø-5 –ø—Ä–∏–∑
                                                                        –î–∑–∞–Ω–µ—Ç—Ç–∏ </div>
                                                                    <ul class="zanetti_top-list"></ul>
                                                                    <div class="link"><a href="pro11x11allstat.html#6"">–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫</a></div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>



    @@include('blocks/footer.html')
    </body>
    <script src=" ./js/index.bundle.js"></script>



                                                                            <script>
                                                                                document.addEventListener("DOMContentLoaded", () => {
                                                                                    fetch('/api/players.php?team_id=2')
                                                                                        .then(res => res.json())
                                                                                        .then(data => {
                                                                                            data.sort((a, b) => a.number - b.number); // ‚Üê —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç—É—Ç!

                                                                                            const groups = {
                                                                                                '–í—Ä–∞—Ç–∞—Ä—å': document.querySelector('.goalkeeper'),
                                                                                                '–ó–∞—â–∏—Ç–Ω–∏–∫': document.querySelector('.defender'),
                                                                                                '–ü–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫': document.querySelector('.midfielders'),
                                                                                                '–ù–∞–ø–∞–¥–∞—é—â–∏–π': document.querySelector('.forvards')
                                                                                            };

                                                                                            data.forEach(player => {
                                                                                                const playerEl = document.createElement('div');
                                                                                                playerEl.classList.add('player');
                                                                                                playerEl.innerHTML = `
                <div class="number">${player.number}</div>
                <div class="name"><a href="player.html?id=${player.id}">${player.name}</a></div>
            `;

                                                                                                const container = groups[player.position];
                                                                                                if (container) {
                                                                                                    container.appendChild(playerEl);
                                                                                                } else {
                                                                                                    console.warn('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞:', player.position);
                                                                                                }
                                                                                            });
                                                                                        })
                                                                                        .catch(error => console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä–æ–∫–æ–≤:', error));
                                                                                });


                                                                            </script>

                                                                            <script>
                                                                                document.addEventListener("DOMContentLoaded", () => {
                                                                                    fetch('/api/player_statistics_2025.php?team_id=2')
                                                                                        .then(res => res.json())
                                                                                        .then(data => {
                                                                                            console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤:', data);
                                                                                            if (!Array.isArray(data)) return;

                                                                                            // –§–∏–ª—å—Ç—Ä—É–µ–º –≤—Ä–∞—Ç–∞—Ä–µ–π
                                                                                            const goalkeepers = data.filter(p => p.position === '–í—Ä–∞—Ç–∞—Ä—å');
                                                                                            console.log('–í—Ä–∞—Ç–∞—Ä–∏:', goalkeepers);

                                                                                            // –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤
                                                                                            const positions = [...new Set(data.map(p => p.position))];
                                                                                            console.log('–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤:', positions);

                                                                                            // –õ–æ–≥ –ø–æ lostgoals —É –∫–∞–∂–¥–æ–≥–æ –≤—Ä–∞—Ç–∞—Ä—è
                                                                                            goalkeepers.forEach(gk => {
                                                                                                console.log(`${gk.name}: lostgoals =`, gk.lostgoals);
                                                                                            });

                                                                                            // –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ø—ã –ø–æ –Ω—É–∂–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º
                                                                                            const topGoals = getTopPlayers(data, 'goals');
                                                                                            const topAssists = getTopPlayers(data, 'assists');
                                                                                            const topGoalPlusAssist = getTopPlayers(data, p => p.goals + p.assists);
                                                                                            const topLostGoals = getTopPlayers(goalkeepers, 'lostgoals');
                                                                                            const topZero = getTopPlayers(goalkeepers, 'zeromatch');
                                                                                            const topZanetti = getTopPlayers(data, 'zanetti_priz');

                                                                                            // –í—Å—Ç–∞–≤–ª—è–µ–º —Å–ø–∏—Å–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
                                                                                            insertTopList('.goals-list', topGoals, 'goals');
                                                                                            insertTopList('.assists-list', topAssists, 'assists');
                                                                                            insertTopList('.goals-assists-list', topGoalPlusAssist, p => p.goals + p.assists);
                                                                                            insertTopList('.goalkeepers-list', topLostGoals, 'lostgoals');
                                                                                            insertTopList('.goalkeepers-list-zero', topZero, 'zeromatch');
                                                                                            insertTopList('.zanetti_top-list', topZanetti, 'zanetti_priz');
                                                                                        })
                                                                                        .catch(err => console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:", err));

                                                                                    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ø N –∏–≥—Ä–æ–∫–æ–≤
                                                                                    function getTopPlayers(data, keyOrFn, count = 5) {
                                                                                        return [...data]
                                                                                            .sort((a, b) => {
                                                                                                const aVal = typeof keyOrFn === 'function' ? keyOrFn(a) : a[keyOrFn];
                                                                                                const bVal = typeof keyOrFn === 'function' ? keyOrFn(b) : b[keyOrFn];
                                                                                                return bVal - aVal;
                                                                                            })
                                                                                            .slice(0, count);
                                                                                    }

                                                                                    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –≤ DOM
                                                                                    function insertTopList(selector, players, valueKeyOrFn) {
                                                                                        const ul = document.querySelector(selector);
                                                                                        if (!ul) {
                                                                                            console.warn(`–≠–ª–µ–º–µ–Ω—Ç —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º ${selector} –Ω–µ –Ω–∞–π–¥–µ–Ω!`);
                                                                                            return;
                                                                                        }

                                                                                        ul.innerHTML = ''; // –û—á–∏—Å—Ç–∫–∞ —Å–ø–∏—Å–∫–∞

                                                                                        if (selector === '.goalkeepers-list-zero') {
                                                                                            const hasAnyZeroMatches = players.some(p => {
                                                                                                const val = typeof valueKeyOrFn === 'function' ? valueKeyOrFn(p) : p[valueKeyOrFn];
                                                                                                return val > 0;  // –ï—Å—Ç—å –∏–≥—Ä–æ–∫ —Å –º–∞—Ç—á–∞–º–∏ –Ω–∞ 0
                                                                                            });
                                                                                            if (!hasAnyZeroMatches) {
                                                                                                const li = document.createElement('li');
                                                                                                li.textContent = '–ù–µ –±—ã–ª–æ';
                                                                                                ul.appendChild(li);
                                                                                                return;
                                                                                            }

                                                                                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫–æ–≤ —Å zeromatch > 0
                                                                                            players = players.filter(p => {
                                                                                                const val = typeof valueKeyOrFn === 'function' ? valueKeyOrFn(p) : p[valueKeyOrFn];
                                                                                                return val > 0;
                                                                                            });
                                                                                        }

                                                                                        players.forEach((p, index) => {
                                                                                            const li = document.createElement('li');
                                                                                            const lastName = p.name.split(' ')[0]; // —Ñ–∞–º–∏–ª–∏—è

                                                                                            let value;
                                                                                            if (typeof valueKeyOrFn === 'function') {
                                                                                                value = valueKeyOrFn(p);
                                                                                            } else {
                                                                                                value = p[valueKeyOrFn];
                                                                                            }

                                                                                            li.innerHTML = `
            <span class="place">${index + 1}.</span>
            <span class="name">${lastName}</span>
            <span class="value">${value}</span>
        `;
                                                                                            ul.appendChild(li);
                                                                                        });
                                                                                    }
                                                                                });
                                                                            </script>

                                                                            <script>
                                                                                document.addEventListener("DOMContentLoaded", async () => {
                                                                                    let data = null;

                                                                                    try {
                                                                                        const res = await fetch("/api/statistics_pro_2025.php?team_id=2"); // –¥–æ–±–∞–≤–∏–ª team_id=2
                                                                                        if (!res.ok) throw new Error(`–û—à–∏–±–∫–∞ ${res.status}`);
                                                                                        data = await res.json();
                                                                                        console.log("üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 11x11 –∑–∞–≥—Ä—É–∂–µ–Ω–∞:", data); // –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–æ–≥
                                                                                    } catch (err) {
                                                                                        console.error("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:", err);
                                                                                        return;
                                                                                    }

                                                                                    if (!data) return;

                                                                                    const mapping = {
                                                                                        ".game .number": data.matches,
                                                                                        ".wins .number": data.wins,
                                                                                        ".draw .number": data.draws,
                                                                                        ".lose .number": data.losses,
                                                                                        ".goals .number": data.goals_for,
                                                                                        ".goals_conceded .number": data.goals_against,
                                                                                        ".difference .number": data.difference,
                                                                                        ".form .number": data.form,
                                                                                        ".wins_series .number": data.win_streak,
                                                                                        ".wins_lose .number": data.unbeaten_streak,
                                                                                        ".the_best_win .number": data.best_win,
                                                                                        ".the_best_lose .number": data.worst_loss
                                                                                    };

                                                                                    for (const selector in mapping) {
                                                                                        const el = document.querySelector(selector);
                                                                                        if (el) el.textContent = mapping[selector];
                                                                                    }
                                                                                });
                                                                            </script>
</body>

</html>