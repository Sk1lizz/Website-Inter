<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FC Inter Moscow Pro</title>
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/img/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/img/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" sizes="192x192" href="/img/android-chrome-192x192.png">
    <link rel="icon" sizes="512x512" href="/img/android-chrome-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="description"
        content="FC Inter Moscow Pro - футбольная команда и тренировки для взрослых в Москве в формате 11х11" />
</head>

<body>
    <header>
    <div class="header_wrapper">
        <div class="top_parth">
            <a class="logo_wrapper" href="../index.html">
                <div class="logo_image"><img src="../img/logo.png" href="../index.html"></div>
                <div class="logo_text">
                    <div>INTER MOSCOW</div>
                    <div id="official-subtext">Official Site</div>
                </div>
            </a>

            <div class="social_view_wrapper">
                <a href="prosmotr.html" class="view button">Записаться на просмотр</a>

                <div class="social">
                    <a href="https://vk.com/fcintermoscow"><img src="../img/VK_Logo.png"></a>
                    <a href="https://www.youtube.com/@fcintermoscow7572"><img src="../img/youtube_logo.png"></a>
                    <a href="https://t.me/fcintermoscow"><img src="../img/telegram.png"></a>
                    <a href="user.php"><img src="../img/icon/user.png"></a>
                </div>
            </div>

            <a href="user.php" class="lk-mobile-button" aria-label="Личный кабинет">
                <img src="../img/icon/user.png" alt="ЛК">
            </a>

            <div class=" menu_toggle">
                <div class="icon" id="icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>

        <div class="bottom_parth">
            <ul class="menu">
                <li><a href="../index.html">Главная</a></li>
                <li>
                    <a href="../club.html">Клуб</a>
                    <div id="icon">
                        <p>></p>
                    </div>
                    <ul class="submenu">
                        <li><a href="../gallery.html">Галерея</a></li>
                        <li><a href="../hystory.html">История</a></li>
                        <li><a href="../ustav.html">Устав</a></li>
                        <li><a href="../records.html">Достижения</a></li>
                        <li><a href="../alumnus.html">Воспитанники</a></li>
                        <li><a href="../forever_team.html">Forever Team</a></li>
                        <li><a href="../hall_of_fame.html">Зал Славы</a></li>
                        <li><a href="../archive.html">Архив</a></li>
                    </ul>
                </li>
                <li><a href="../pro11x11.html">Pro (11x11)</a></li>
                <li><a href="../8x8.html">Команда (8x8)</a></li>
                <li><a href="../prosmotr.html">Просмотр</a></li>
                <li><a href="../contacts.html">Контакты</a></li>
                <li><a href="../cooperation.html">Сотрудничество</a></li>
                <li><a href="../literature.html">Литература</a></li>
            </ul>
        </div>
    </div>


</header>

    <div class="pro11x11_wrapper">
        <div class="selection_players">
            <div class="team">
                <div class="team_name">
                    <div class="name_team">FC Inter Moscow Pro (11x11)</div>
                    <div class="button">
                        <a href="prosmotr_pro11x11.html"><button>Просмотр в эту команду</button></a>
                        <a href="result11x11.html"><button>Результаты матчей</button></a>
                    </div>
                </div>
                <div class="players">
                    <div class="player_blok">
                        <div class="goalkeeper">
                            <div class="title">Вратари</div>
                        </div>

                        <div class="defender">
                            <div class="title">Защитники</div>
                        </div>
                    </div>
                    <div class="midfielders">
                        <div class="title">Полузащитники</div>
                    </div>

                    <div class="forvards_coach_block">
                        <div class="forvards">
                            <div class="title">Нападающие</div>
                            <div class="forvards"></div>
                        </div>
                        <div class="coach">
                            <div class="title">Тренеры</div>
                            <div class="player">
                                <div class="name"><a href="peshekhonov.html">Пешехонов Д.М.</a></div>
                            </div>
                            <div class="player">
                                <div class="name"><a href="gruminsky.html">Грумынский А.А.</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="statistics">
            <div class="title">
                <div class="title_text">Статистика 2025</div>
            </div>

            <div class="blocks_statistic">
                <div class="wrapper">
                    <div class="slider">
                        <div class="blocks">
                            <div class="game">
                                <div class="text">
                                    <div class="name">Матчей</div>
                                    <div class="number">13</div>
                                </div>
                            </div>
                            <div class="wins">
                                <div class="text">
                                    <div class="name">Победы</div>
                                    <div class="number">1</div>
                                </div>
                            </div>
                            <div class="draw">
                                <div class="text">
                                    <div class="name">Ничьи</div>
                                    <div class="number">2</div>
                                </div>
                            </div>
                            <div class="lose">
                                <div class="text">
                                    <div class="name">Поражения</div>
                                    <div class="number">10</div>
                                </div>
                            </div>
                        </div>
                        <div class="blocks">
                            <div class="goals">
                                <div class="text">
                                    <div class="name">Голов забито</div>
                                    <div class="number">17</div>
                                </div>
                            </div>
                            <div class="goals_conceded">
                                <div class="text">
                                    <div class="name">Голов пропущего</div>
                                    <div class="number">47</div>
                                </div>
                            </div>
                            <div class="difference">
                                <div class="text">
                                    <!-- Считается автоматически -->
                                    <div class="name">Разница</div>
                                    <div class="number"></div>
                                </div>
                            </div>
                            <div class="form">
                                <div class="text">
                                    <div class="name">Форма</div>
                                    <div class="number">LLWLX</div>
                                </div>
                            </div>
                        </div>
                        <div class="blocks">
                            <div class="wins_series">
                                <div class="text">
                                    <div class="name">Лучшая серия побед</div>
                                    <div class="number">1</div>
                                </div>
                            </div>
                            <div class="wins_lose">
                                <div class="text">
                                    <div class="name">Наибольшая серия без поражений</div>
                                    <div class="number">1</div>
                                </div>
                            </div>
                            <div class="the_best_win">
                                <div class="text">
                                    <div class="name">Самая крупная победа</div>
                                    <div class="number">Мастер (3:1)</div>
                                </div>
                            </div>
                            <div class="the_best_lose">
                                <div class="text">
                                    <div class="name">Самое крупное поражение</div>
                                    <div class="number">Аргумент (0:6)</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tablegoal">
            <div class="title_tablegoal">
                <div class="text_title">Топ футболисты</div>
            </div>
            <div class=block-wrapper>
                <div class="statistic goals">
                    <div class="wrapper">
                        <div class="title">Топ бомбардиры</div>
                        <ul class="goals-list">
                            <!-- Сюда будут добавлены элементы списка голеодателей -->
                        </ul>
                        <div class="link"><a href="pro11x11allstat.html#1"">Полный список</a></div>
                    </div>
                </div>

                <div class=" statistic assists">
                                <div class="wrapper">
                                    <div class="title">Топ ассистенты</div>
                                    <ul class="assists-list">
                                        <!-- Сюда будут добавлены элементы списка ассистентов -->
                                    </ul>
                                    <div class="link"><a href="pro11x11allstat.html#2"">Полный список</a></div>
                    </div>
                </div>

                <div class=" statistic goals_assists">
                                            <div class="wrapper">
                                                <div class="title">Топ гол+пас</div>
                                                <ul class="goals-assists-list"></ul>
                                                <div class="link"><a href="pro11x11allstat.html#3"">Полный список</a></div>
                    </div>
                </div>
            </div>

            <div class=block-wrapper>
                <div class=" statistic goalkeepers">
                                                        <div class="wrapper">
                                                            <div class="title">Пропущенные мячи</div>
                                                            <!-- поменял название -->
                                                            <ul class="goalkeepers-list"></ul>
                                                            <!-- оставил класс, чтоб не ломать скрипт -->
                                                            <div class="link"><a href="pro11x11allstat.html#4">Полный
                                                                    список</a></div>
                                                        </div>
                                                </div>

                                                <div class=" statistic goalkeepers_zero">
                                                    <div class="wrapper">
                                                        <div class="title">Матчей на ноль</div>
                                                        <ul class="goalkeepers-list-zero"></ul>
                                                        <div class="link"><a href="pro11x11allstat.html#5"">Полный список</a></div>
                    </div>
                </div>

                <div class=" statistic zanetti_top">
                                                                <div class="wrapper">
                                                                    <div class="title"> Топ-5 приз
                                                                        Дзанетти </div>
                                                                    <ul class="zanetti_top-list"></ul>
                                                                    <div class="link"><a href="pro11x11allstat.html#6"">Полный список</a></div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>



    <footer>
    <div class="footer_wrapper">

        <div class="footer_left">
            <a class="logo_wrapper" href="../index.html">
                <div class="logo_image"><img src="../img/logo.png" href="../index.html"></div>
                <div class="logo_text">
                    <div>INTER MOSCOW</div>
                    <div>Official Site</div>
                </div>
            </a>

            <div class="info">
                <div class="title">Email:</div>
                <div class="text">info@fcintermoscow.com</div>
            </div>

            <div class="info">
                <div class="title">Юридическая информация:</div>
                <div class="text">Самозанятый Пешехонов Д.М.</div>
                <div class="text">ИНН 503810091397</div>
            </div>

            <div class="view">
                <a href="../prosmotr.html" class="view button">Записаться на просмотр</a>
            </div>

            <div class="info">
                <div class="title">Сreated by D. Peshekhonov</div>
            </div>
        </div>

        <div class="footer_right">
            <div class="menu">
                <ul>
                    <li><a href="../index.html">Главная</a></li>
                    <li><a href="../contacts.html">Контакты</a></li>
                    <li><a href="../gallery.html">Галерея</a></li>
                    <li><a href="../literature.html">Литература</a></li>
                </ul>
                <ul>
                    <li><a href="../club.html">Клуб</a></li>
                    <li><a href="../cooperation.html">Сотрудничество</a></li>
                    <li><a href="../ustav.html">Устав</a></li>
                    <li><a href="../testirovanie.html">Тестирование</a></li>
                    <li><a href="../alumnus.html">Воспитанники</a></li>
                    <li><a href="../forever_team.html">Forever Team</a></li>
                    <li><a href="../hall_of_fame.html">Зал славы</a></li>
                </ul>
                <ul>
                    <li><a href="../club.html">О команде</a></li>
                    <li><a href="../hystory.html">История</a></li>
                    <li><a href="../records.html">Достижения</a></li>
                    <li><a href="../pro11x11.html">Команда (11x11)</a></li>
                    <li><a href="../8x8.html">Команда (8x8)</a></li>
                    <li><a href="../archive.html">Архив</a></li>
                </ul>
                <ul>
                    <li><a href="../prosmotr.html">Просмотр</a></li>
                    <li><a href="../prosmotr_pro11x11.html">Просмотр 11x11</a></li>
                    <li><a href="../prosmotr_8x8.html">Просмотр 8x8</a></li>
                </ul>
            </div>

            <div class="social">
                <a href="https://vk.com/fcintermoscow"><img src="../img/VK_Logo.png" href="../intex.html"></a>
                <a href="https://www.youtube.com/@fcintermoscow"><img src="../img/youtube_logo.png"></a>
                <a href="https://t.me/fcintermoscow"><img src="../img/telegram.png""></a>
            </div>
        </div>
    </div>


</footer>
    </body>
    <script src=" ./js/index.bundle.js"></script>



                                                                            <script>
                                                                                document.addEventListener("DOMContentLoaded", () => {
                                                                                    fetch('/api/players.php?team_id=2')
                                                                                        .then(res => res.json())
                                                                                        .then(data => {
                                                                                            data.sort((a, b) => a.number - b.number); // ← сортировка тут!

                                                                                            const groups = {
                                                                                                'Вратарь': document.querySelector('.goalkeeper'),
                                                                                                'Защитник': document.querySelector('.defender'),
                                                                                                'Полузащитник': document.querySelector('.midfielders'),
                                                                                                'Нападающий': document.querySelector('.forvards')
                                                                                            };

                                                                                            data.forEach(player => {
                                                                                                const playerEl = document.createElement('div');
                                                                                                playerEl.classList.add('player');
                                                                                                playerEl.innerHTML = `
                <div class="number">${player.number}</div>
                <div class="name"><a href="player.html?id=${player.id}">${player.name}</a></div>
            `;

                                                                                                const container = groups[player.position];
                                                                                                if (container) {
                                                                                                    container.appendChild(playerEl);
                                                                                                } else {
                                                                                                    console.warn('Неизвестная позиция игрока:', player.position);
                                                                                                }
                                                                                            });
                                                                                        })
                                                                                        .catch(error => console.error('Ошибка загрузки игроков:', error));
                                                                                });


                                                                            </script>

                                                                            <script>
                                                                                document.addEventListener("DOMContentLoaded", () => {
                                                                                    fetch('/api/player_statistics_2025.php?team_id=2')
                                                                                        .then(res => res.json())
                                                                                        .then(data => {
                                                                                            console.log('Статистика игроков:', data);
                                                                                            if (!Array.isArray(data)) return;

                                                                                            // Фильтруем вратарей
                                                                                            const goalkeepers = data.filter(p => p.position === 'Вратарь');
                                                                                            console.log('Вратари:', goalkeepers);

                                                                                            // Уникальные позиции игроков
                                                                                            const positions = [...new Set(data.map(p => p.position))];
                                                                                            console.log('Уникальные позиции игроков:', positions);

                                                                                            // Лог по lostgoals у каждого вратаря
                                                                                            goalkeepers.forEach(gk => {
                                                                                                console.log(`${gk.name}: lostgoals =`, gk.lostgoals);
                                                                                            });

                                                                                            // Получаем топы по нужным критериям
                                                                                            const topGoals = getTopPlayers(data, 'goals');
                                                                                            const topAssists = getTopPlayers(data, 'assists');
                                                                                            const topGoalPlusAssist = getTopPlayers(data, p => p.goals + p.assists);
                                                                                            const topLostGoals = getTopPlayers(goalkeepers, 'lostgoals');
                                                                                            const topZero = getTopPlayers(goalkeepers, 'zeromatch');
                                                                                            const topZanetti = getTopPlayers(data, 'zanetti_priz');

                                                                                            // Вставляем списки на страницу
                                                                                            insertTopList('.goals-list', topGoals, 'goals');
                                                                                            insertTopList('.assists-list', topAssists, 'assists');
                                                                                            insertTopList('.goals-assists-list', topGoalPlusAssist, p => p.goals + p.assists);
                                                                                            insertTopList('.goalkeepers-list', topLostGoals, 'lostgoals');
                                                                                            insertTopList('.goalkeepers-list-zero', topZero, 'zeromatch');
                                                                                            insertTopList('.zanetti_top-list', topZanetti, 'zanetti_priz');
                                                                                        })
                                                                                        .catch(err => console.error("Ошибка загрузки статистики:", err));

                                                                                    // Функция для сортировки и получения топ N игроков
                                                                                    function getTopPlayers(data, keyOrFn, count = 5) {
                                                                                        return [...data]
                                                                                            .sort((a, b) => {
                                                                                                const aVal = typeof keyOrFn === 'function' ? keyOrFn(a) : a[keyOrFn];
                                                                                                const bVal = typeof keyOrFn === 'function' ? keyOrFn(b) : b[keyOrFn];
                                                                                                return bVal - aVal;
                                                                                            })
                                                                                            .slice(0, count);
                                                                                    }

                                                                                    // Функция для вставки списка игроков в DOM
                                                                                    function insertTopList(selector, players, valueKeyOrFn) {
                                                                                        const ul = document.querySelector(selector);
                                                                                        if (!ul) {
                                                                                            console.warn(`Элемент с селектором ${selector} не найден!`);
                                                                                            return;
                                                                                        }

                                                                                        ul.innerHTML = ''; // Очистка списка

                                                                                        if (selector === '.goalkeepers-list-zero') {
                                                                                            const hasAnyZeroMatches = players.some(p => {
                                                                                                const val = typeof valueKeyOrFn === 'function' ? valueKeyOrFn(p) : p[valueKeyOrFn];
                                                                                                return val > 0;  // Есть игрок с матчами на 0
                                                                                            });
                                                                                            if (!hasAnyZeroMatches) {
                                                                                                const li = document.createElement('li');
                                                                                                li.textContent = 'Не было';
                                                                                                ul.appendChild(li);
                                                                                                return;
                                                                                            }

                                                                                            // Показываем только игроков с zeromatch > 0
                                                                                            players = players.filter(p => {
                                                                                                const val = typeof valueKeyOrFn === 'function' ? valueKeyOrFn(p) : p[valueKeyOrFn];
                                                                                                return val > 0;
                                                                                            });
                                                                                        }

                                                                                        players.forEach((p, index) => {
                                                                                            const li = document.createElement('li');
                                                                                            const lastName = p.name.split(' ')[0]; // фамилия

                                                                                            let value;
                                                                                            if (typeof valueKeyOrFn === 'function') {
                                                                                                value = valueKeyOrFn(p);
                                                                                            } else {
                                                                                                value = p[valueKeyOrFn];
                                                                                            }

                                                                                            li.innerHTML = `
            <span class="place">${index + 1}.</span>
            <span class="name">${lastName}</span>
            <span class="value">${value}</span>
        `;
                                                                                            ul.appendChild(li);
                                                                                        });
                                                                                    }
                                                                                });
                                                                            </script>

                                                                            <script>
                                                                                document.addEventListener("DOMContentLoaded", async () => {
                                                                                    let data = null;

                                                                                    try {
                                                                                        const res = await fetch("/api/statistics_pro_2025.php?team_id=2"); // добавил team_id=2
                                                                                        if (!res.ok) throw new Error(`Ошибка ${res.status}`);
                                                                                        data = await res.json();
                                                                                        console.log("📊 Статистика 11x11 загружена:", data); // правильный лог
                                                                                    } catch (err) {
                                                                                        console.error("❌ Не удалось получить статистику:", err);
                                                                                        return;
                                                                                    }

                                                                                    if (!data) return;

                                                                                    const mapping = {
                                                                                        ".game .number": data.matches,
                                                                                        ".wins .number": data.wins,
                                                                                        ".draw .number": data.draws,
                                                                                        ".lose .number": data.losses,
                                                                                        ".goals .number": data.goals_for,
                                                                                        ".goals_conceded .number": data.goals_against,
                                                                                        ".difference .number": data.difference,
                                                                                        ".form .number": data.form,
                                                                                        ".wins_series .number": data.win_streak,
                                                                                        ".wins_lose .number": data.unbeaten_streak,
                                                                                        ".the_best_win .number": data.best_win,
                                                                                        ".the_best_lose .number": data.worst_loss
                                                                                    };

                                                                                    for (const selector in mapping) {
                                                                                        const el = document.querySelector(selector);
                                                                                        if (el) el.textContent = mapping[selector];
                                                                                    }
                                                                                });
                                                                            </script>
</body>

</html>